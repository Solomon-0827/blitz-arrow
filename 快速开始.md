# ⚡ 快速开始

## 📌 选择部署方案

### 方案 A：虚拟机直接构建 ✅ 推荐首次部署

适合场景：
- ✅ 首次部署
- ✅ 虚拟机网络良好
- ✅ 没有 Docker Hub 账号

```bash
# 1. 在 GCP 虚拟机上运行（建议配置：e2-medium, 2GB RAM）
git clone https://github.com/YOUR_USERNAME/YOUR_REPO.git
cd YOUR_REPO
./deploy/1-setup-vm.sh  # 初始化环境
exit  # 退出并重新连接

# 2. 重新连接后，运行部署
cd YOUR_REPO
./scripts/deploy-from-source.sh  # 等待 15-20 分钟
```

### 方案 B：本地构建 + Docker Hub ⚡ 推荐频繁更新

适合场景：
- ✅ 频繁更新代码
- ✅ 本地网络良好
- ✅ 有 Docker Hub 账号

```bash
# 1. 本地构建（修改脚本中的 DOCKER_USERNAME）
docker login
./scripts/build-and-push.sh  # 等待 10 分钟

# 2. 虚拟机部署
cd ~/YOUR_REPO
git pull
./scripts/deploy-from-registry.sh  # 等待 2 分钟
```

---

## 🔍 详细文档

查看 **[DEPLOYMENT.md](./DEPLOYMENT.md)** 获取完整的部署指南，包括：

- 详细的步骤说明
- 常见问题解决方案
- 管理命令
- 安全建议

---

## 🌐 访问应用

部署完成后，访问：

```
Admin 管理后台: http://YOUR_VM_IP:3000
User  用户前端: http://YOUR_VM_IP:3001
```

⚠️ 记得在 GCP 防火墙中开放 3000 和 3001 端口！

---

## 🆘 遇到问题？

### 构建失败 - `border-border` 错误
```bash
git pull  # 拉取最新修复
rm -rf apps/*/.next .turbo
```

### 虚拟机被 Killed - 内存不足
```bash
# 添加 4GB Swap
sudo fallocate -l 4G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

### 本地 Docker Hub 超时
- **方案 1**：配置 Docker 镜像加速器（见 DEPLOYMENT.md）
- **方案 2**：使用方案 A（虚拟机直接构建）

更多问题查看 [DEPLOYMENT.md](./DEPLOYMENT.md) 的 **常见问题** 章节。

---

## 🎯 推荐流程

1. **首次部署**：使用方案 A（虚拟机直接构建）
2. **验证成功**：访问应用，确保一切正常
3. **后续更新**：
   - 如果更新频繁 → 切换到方案 B
   - 如果偶尔更新 → 继续使用方案 A

---

祝部署顺利！🚀
